import { Component } from '@angular/core';
import { ApiService } from '../service/api.service';
import { MyContact } from 'src/Model/myContact';

@Component({
  selector: 'app-contact-manager',
  templateUrl: './contact-manager.component.html',
  styleUrls: ['./contact-manager.component.css']
})
export class ContactManagerComponent {

  allContacts:MyContact[]=[] // initially empty array

  heading='Contact Details'

  url='data:image/jpeg;base64,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'

  //here we adding the variable for searchkey 
  
  searchKey:string=''

// pipes for date nd time

loginDate:any

  constructor(private api:ApiService){
    this.loginDate=new Date()
  }
  
  //ngOnInit() - Angular lifecycle hook
  
  ngOnInit():void{
   this.getAllContact()
    }

    getAllContact(){
    this.api.getAllContact().subscribe((data:any)=>{
      console.log(data);
      this.allContacts=data // array of data
    }) 

  }

  nameChange(){
    alert('name change')
  }
 
  search(event:any){
    console.log(event.target.value);
    this.searchKey=event.target.value
  }

  deleteContact(contactId:any){
  this.api.deleteContact(contactId).subscribe((data:any)=>{
    this.getAllContact()
    alert('Contact deleted')
  })
  }

}
